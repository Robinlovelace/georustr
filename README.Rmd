---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
if(file.exists("points.geojson")) file.remove("points.geojson")
```

# georustr

<!-- badges: start -->
<!-- badges: end -->

This is a minimal R package to test calling Rust code from R.

Load it with:

```{r}
devtools::load_all()
```


When it is complete, the following should work:

```{r}
n = 1e6
points_df = data.frame(x = rnorm(n = n), y = rnorm(n))
system.time({
  points_sf = sf::st_as_sf(points_df, coords = c("x", "y"), crs = 4326)
})
```

We can do the full csv to geojson process for a fair test as follows:

```{r}
write.csv(points_df, "points.csv")
system.time({
  csv_to_json_base_r(file_csv = "points.csv")
})
```

```{r, eval=FALSE}
system.time({
  csv_to_geojson()
})
```




```{r, eval=FALSE}

system.time({
  points_georust = georustr::make_points(points_df)
})

```

